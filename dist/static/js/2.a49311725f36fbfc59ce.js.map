{"version":3,"sources":["webpack:///./src/api/song.js","webpack:///./node_modules/_js-base64@2.5.1@js-base64/base64.js","webpack:///./src/common/js/song.js","webpack:///src/base/song-list/song-list.vue","webpack:///./src/base/song-list/song-list.vue?b506","webpack:///./src/base/song-list/song-list.vue","webpack:///src/components/music-list/music-list.vue","webpack:///./src/components/music-list/music-list.vue?3ea7","webpack:///./src/components/music-list/music-list.vue","webpack:///src/components/singer-detail/singer-detail.vue","webpack:///./src/components/singer-detail/singer-detail.vue?1586","webpack:///./src/components/singer-detail/singer-detail.vue","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/createClass.js"],"names":["mid","data","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","commonParams","g_tk","loginUin","hostUin","format","platform","needNewCode","uin","cid","req","module","method","param","guid","calltype","userip","req_0","songmid","songtype","loginflag","comm","ct","cv","axios","get","params","then","res","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","categoryId","pcachetime","Date","global","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","exports","self","window","this","_Base64","Base64","version","buffer","eval","err","undefined","b64chars","b64tab","bin","t","i","l","length","charAt","fromCharCode","String","cb_utob","c","cc","charCodeAt","re_utob","utob","u","replace","cb_encode","ccc","padlen","ord","join","btoa","b","_encode","from","Uint8Array","constructor","toString","encode","urisafe","m0","encodeURI","re_btou","RegExp","cb_btou","cccc","offset","btou","cb_decode","len","n","chars","_atob","atob","_decode","decode","noConflict","VERSION","fromBase64","toBase64","__buffer__","Object","defineProperty","noEnum","v","value","enumerable","writable","configurable","extendString","prototype","apply","musicData","vkey","Song","id","songid","singer","filterSinger","name","songname","album","albumname","duration","interval","image","albummid","url","_ref","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","_this","lyric","reject","getLyric","retcode","ERR_OK","ret","forEach","s","push","song_list","props","songs","type","Array","default","rank","Boolean","methods","selectItem","item","index","$emit","getDesc","song","getRankCls","getRankText","song_list_song_list","render","_vm","_h","$createElement","_c","_self","staticClass","_l","key","on","click","$event","directives","rawName","expression","class","domProps","textContent","_s","_v","staticRenderFns","base_song_list_song_list","__webpack_require__","normalizeComponent","ssrContext","music_list","mixins","title","bgImage","scrollY","computed","bgStyle","backgroundImage","created","probeType","listenScroll","mounted","imageHeight","$refs","clientHeight","minScrollHeight","list","$el","style","top","components","Scroll","scroll_scroll","SongList","Loading","loading","extends_default","handlePlaylist","playlist","bottom","refresh","console","log","back","$router","setRandomPlay","randomPlay","scroll","pos","y","select","selectPlay","vuex_esm","watch","newY","zIndex","scale","blur","scrollHeight","Math","max","layer","perDelta","abs","min","filter","paddingTop","height","playBtn","display","music_list_music_list","innerHTML","ref","attrs","music_list_Component","music_list_normalizeComponent","__webpack_exports__","singer_detail","count","_getSingerDetail","avatar","config","code","handleData","musicDataList","promises","map","api_song","promise_default","all","posts","inx","midurlinfo","purl","js_song","catch","reason","MusicList","singer_detail_singer_detail","bg-image","Component","__esModule","obj","_defineProperty","_defineProperty2","defineProperties","target","descriptor","Constructor","protoProps","staticProps"],"mappings":"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","file":"static/js/2.a49311725f36fbfc59ce.js","sourcesContent":["import { commonParams } from './config'\r\nimport axios from 'axios'\r\nexport function getMusicVkey(mid) {\r\n  const url = '/api/musicVkey'\r\n  const data = Object.assign({}, commonParams, {\r\n    g_tk: 5381,\r\n    loginUin: 0,\r\n    hostUin: 0,\r\n    format: 'json',\r\n    platform: 'yqq.json',\r\n    needNewCode: 0,\r\n    uin: 0,\r\n    cid: 205361747,\r\n    // guid: 2090286744,\r\n    // songmid: mid,\r\n    // filename: 'C400' + mid + '.m4a',\r\n    data: {\r\n      req: {\r\n        module: 'CDN.SrfCdnDispatchServer',\r\n        method: 'GetCdnDispatch',\r\n        param: { guid: '2090286744', calltype: 0, userip: '' }\r\n      },\r\n      req_0: {\r\n        module: 'vkey.GetVkeyServer',\r\n        method: 'CgiGetVkey',\r\n        param: {\r\n          guid: '2090286744',\r\n          songmid: [mid],\r\n          songtype: [0],\r\n          uin: '0',\r\n          loginflag: 1,\r\n          platform: '20'\r\n        }\r\n      },\r\n      comm: { uin: 0, format: 'json', ct: 24, cv: 0 }\r\n    }\r\n  })\r\n  return axios\r\n    .get(url, {\r\n      params: data\r\n    })\r\n    .then(res => {\r\n      return Promise.resolve(res.data)\r\n    })\r\n}\r\nexport function getLyric(mid) {\r\n  const url = '/api/lyric'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    songmid: mid,\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    categoryId: 10000000,\r\n    pcachetime: +new Date(),\r\n    format: 'json'\r\n  })\r\n\r\n  return axios\r\n    .get(url, {\r\n      params: data\r\n    })\r\n    .then(res => {\r\n      return Promise.resolve(res.data)\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/song.js","/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    global = global || {};\n    var _Base64 = global.Base64;\n    var version = \"2.5.1\";\n    // if node.js and NOT React Native, we use Buffer\n    var buffer;\n    if (typeof module !== 'undefined' && module.exports) {\n        try {\n            buffer = eval(\"require('buffer').Buffer\");\n        } catch (err) {\n            buffer = undefined;\n        }\n    }\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                   + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                   + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa ? function(b) {\n        return global.btoa(b);\n    } : function(b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function (u) {\n            return (u.constructor === buffer.constructor ? u : buffer.from(u))\n                .toString('base64')\n        }\n        :  function (u) {\n            return (u.constructor === buffer.constructor ? u : new  buffer(u))\n                .toString('base64')\n        }\n        : function (u) { return btoa(utob(u)) }\n    ;\n    var encode = function(u, urisafe) {\n        return !urisafe\n            ? _encode(String(u))\n            : _encode(String(u)).replace(/[+\\/]/g, function(m0) {\n                return m0 == '+' ? '-' : '_';\n            }).replace(/=/g, '');\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    // decoder stuff\n    var re_btou = new RegExp([\n        '[\\xC0-\\xDF][\\x80-\\xBF]',\n        '[\\xE0-\\xEF][\\x80-\\xBF]{2}',\n        '[\\xF0-\\xF7][\\x80-\\xBF]{3}'\n    ].join('|'), 'g');\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var _atob = global.atob ? function(a) {\n        return global.atob(a);\n    } : function(a){\n        return a.replace(/\\S{1,4}/g, cb_decode);\n    };\n    var atob = function(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n    };\n    var _decode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : buffer.from(a, 'base64')).toString();\n        }\n        : function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : new buffer(a, 'base64')).toString();\n        }\n        : function(a) { return btou(_atob(a)) };\n    var decode = function(a){\n        return _decode(\n            String(a).replace(/[-_]/g, function(m0) { return m0 == '-' ? '+' : '/' })\n                .replace(/[^A-Za-z0-9\\+\\/]/g, '')\n        );\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        __buffer__: buffer\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function(){ return global.Base64 });\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_js-base64@2.5.1@js-base64/base64.js\n// module id = BvhE\n// module chunks = 1 2","import { getLyric } from 'api/song'\r\nimport { ERR_OK } from 'api/config'\r\nimport { Base64 } from 'js-base64'\r\n\r\nexport default class Song {\r\n  constructor({ id, mid, singer, name, album, duration, image, url }) {\r\n    this.id = id\r\n    this.mid = mid\r\n    this.singer = singer\r\n    this.name = name\r\n    this.album = album\r\n    this.duration = duration\r\n    this.image = image\r\n    this.url = url\r\n  }\r\n\r\n  getLyric() {\r\n    if (this.lyric) {\r\n      return Promise.resolve(this.lyric)\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      getLyric(this.mid).then(res => {\r\n        if (res.retcode === ERR_OK) {\r\n          this.lyric = Base64.decode(res.lyric)\r\n          resolve(this.lyric)\r\n        } else {\r\n          // eslint-disable-next-line\r\n          reject('no lyric')\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport function createSong(musicData, vkey) {\r\n  return new Song({\r\n    id: musicData.songid,\r\n    mid: musicData.songmid,\r\n    singer: filterSinger(musicData.singer),\r\n    name: musicData.songname,\r\n    album: musicData.albumname,\r\n    duration: musicData.interval,\r\n    image: `https://y.gtimg.cn/music/photo_new/T002R300x300M000${\r\n      musicData.albummid\r\n    }.jpg?max_age=2592000`,\r\n    url: `http://dl.stream.qqmusic.qq.com/${vkey}`\r\n  })\r\n}\r\nexport function createNewSong(musicData, vkey) {\r\n  return new Song({\r\n    id: musicData.id,\r\n    mid: musicData.mid,\r\n    singer: filterSinger(musicData.singer),\r\n    name: musicData.name,\r\n    album: musicData.album.name,\r\n    duration: musicData.interval,\r\n    image: `https://y.gtimg.cn/music/photo_new/T002R300x300M000${\r\n      musicData.album.mid\r\n    }.jpg?max_age=2592000`,\r\n    url: `http://dl.stream.qqmusic.qq.com/${vkey}`\r\n  })\r\n}\r\nfunction filterSinger(singer) {\r\n  let ret = []\r\n  if (!singer) {\r\n    return ''\r\n  }\r\n  singer.forEach(s => {\r\n    ret.push(s.name)\r\n  })\r\n  return ret.join('/')\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/song.js","<template>\r\n  <div class=\"song-list\">\r\n    <ul>\r\n      <li @click=\"selectItem(song, index)\"\r\n          class=\"item\"\r\n          v-for=\"(song, index) in songs\"\r\n          :key='index'>\r\n        <div class=\"rank\"\r\n             v-show=\"rank\">\r\n          <span :class=\"getRankCls(index)\"\r\n                v-text=\"getRankText(index)\"></span>\r\n        </div>\r\n        <div class=\"content\">\r\n          <h2 class=\"name\">{{song.name}}</h2>\r\n          <p class=\"desc\">{{getDesc(song)}}</p>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nexport default {\r\n  props: {\r\n    songs: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n    rank: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  methods: {\r\n    selectItem (item, index) {\r\n      this.$emit('select', item, index)\r\n    },\r\n    getDesc (song) {\r\n      return `${song.singer}·${song.album}`\r\n    },\r\n    getRankCls (index) {\r\n      if (index <= 2) {\r\n        return `icon icon${index}`\r\n      } else {\r\n        return 'text'\r\n      }\r\n    },\r\n    getRankText (index) {\r\n      if (index > 2) {\r\n        return index + 1\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n@import '~common/stylus/variable';\r\n@import '~common/stylus/mixin';\r\n\r\n.song-list {\r\n  .item {\r\n    display: flex;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    height: 64px;\r\n    font-size: $font-size-medium;\r\n    padding-left: 20px;\r\n\r\n    .rank {\r\n      flex: 0 0 25px;\r\n      width: 25px;\r\n      margin-right: 30px;\r\n      text-align: center;\r\n\r\n      .icon {\r\n        display: inline-block;\r\n        width: 25px;\r\n        height: 24px;\r\n        background-size: 25px 24px;\r\n\r\n        &.icon0 {\r\n          bg-image('first');\r\n        }\r\n\r\n        &.icon1 {\r\n          bg-image('second');\r\n        }\r\n\r\n        &.icon2 {\r\n          bg-image('third');\r\n        }\r\n      }\r\n\r\n      .text {\r\n        color: $color-theme;\r\n        font-size: $font-size-large;\r\n      }\r\n    }\r\n\r\n    .content {\r\n      flex: 1;\r\n      line-height: 20px;\r\n      overflow: hidden;\r\n      text-align: left;\r\n\r\n      .name {\r\n        no-wrap();\r\n        color: $color-text;\r\n      }\r\n\r\n      .desc {\r\n        no-wrap();\r\n        margin-top: 4px;\r\n        color: $color-text-d;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/base/song-list/song-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-list\"},[_c('ul',_vm._l((_vm.songs),function(song,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.selectItem(song, index)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rank),expression:\"rank\"}],staticClass:\"rank\"},[_c('span',{class:_vm.getRankCls(index),domProps:{\"textContent\":_vm._s(_vm.getRankText(index))}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h2',{staticClass:\"name\"},[_vm._v(_vm._s(song.name))]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.getDesc(song)))])])])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-c0f1e9d6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/base/song-list/song-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c0f1e9d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./song-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./song-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./song-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c0f1e9d6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./song-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c0f1e9d6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/song-list/song-list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"music-list\">\r\n    <div class=\"back\"\r\n         @click=\"back\">\r\n      <i class=\"icon-back\"></i>\r\n    </div>\r\n    <h1 class=\"title\"\r\n        v-html='title'></h1>\r\n    <div class=\"bg-image\"\r\n         :style=\"bgStyle\"\r\n         ref=\"bgImage\">\r\n      <div class=\"play-wrapper\">\r\n        <div ref=\"playBtn\"\r\n             v-show=\"songs.length>0\"\r\n             class=\"play\"\r\n             @click='setRandomPlay'>\r\n          <i class=\"icon-play\"></i>\r\n          <span class=\"text\">随机播放全部</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"filter\"\r\n           ref=\"filter\">\r\n      </div>\r\n    </div>\r\n    <div class=\"bg-layer\"\r\n         ref=\"layer\"></div>\r\n    <scroll :data='songs'\r\n            class=\"list\"\r\n            ref=\"list\"\r\n            :probeType=\"probeType\"\r\n            :listenScroll=\"listenScroll\"\r\n            @scroll=\"scroll\">\r\n      <div>\r\n        <song-list :songs='songs'\r\n                   @select='select'></song-list>\r\n      </div>\r\n      <div class=\"loading-container\"\r\n           v-show=\"!songs.length\">\r\n        <loading></loading>\r\n      </div>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Scroll from 'base/scroll/scroll'\r\nimport SongList from 'base/song-list/song-list'\r\nimport Loading from 'base/loading/loading'\r\nimport { mapActions } from 'vuex'\r\nimport { playlistMixin } from 'common/js/mixin'\r\nconst TOP_BAR_HEIGHT = 40\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    bgImage: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    songs: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      scrollY: 0\r\n    }\r\n  },\r\n  computed: {\r\n    bgStyle () {\r\n      return { backgroundImage: `url(${this.bgImage})` }\r\n    }\r\n  },\r\n  created () {\r\n    this.probeType = 3\r\n    this.listenScroll = true\r\n  },\r\n  mounted () {\r\n    this.imageHeight = this.$refs.bgImage.clientHeight\r\n    this.minScrollHeight = -this.imageHeight + TOP_BAR_HEIGHT\r\n    this.$refs.list.$el.style.top = `${this.imageHeight}px`\r\n  },\r\n  components: {\r\n    Scroll,\r\n    SongList,\r\n    Loading\r\n  },\r\n  methods: {\r\n    handlePlaylist (playlist) {\r\n      const bottom = playlist.length > 0 ? '60px' : '0'\r\n      this.$refs.list.$el.style.bottom = bottom\r\n      this.$refs.list.refresh()\r\n      console.log('handlePlaylist', bottom)\r\n    },\r\n    back () {\r\n      // this.$router.push('/singer')\r\n      this.$router.back()\r\n    },\r\n    setRandomPlay () {\r\n      this.randomPlay({\r\n        list: this.songs\r\n      })\r\n    },\r\n    scroll (pos) {\r\n      this.scrollY = pos.y\r\n      console.log(this.scrollY)\r\n    },\r\n    select (item, index) {\r\n      console.log(index)\r\n      this.selectPlay(\r\n        {\r\n          list: this.songs,\r\n          index// 键值对一样可省略\r\n        }\r\n      )\r\n    },\r\n    ...mapActions([\r\n      'selectPlay',\r\n      'randomPlay'\r\n    ])\r\n  },\r\n  watch: {\r\n    scrollY (newY) {\r\n      let zIndex = 0\r\n      let scale = 1\r\n      let blur = 0\r\n      let scrollHeight = Math.max(this.minScrollHeight, newY)\r\n      this.$refs.layer.style['transform'] = `translate3d(0,${scrollHeight}px,0)`\r\n      this.$refs.layer.style['webkitTransform'] = `translate3d(0,${scrollHeight}px,0)`\r\n      let perDelta = Math.abs(newY) / this.imageHeight\r\n      if (newY > 0) {\r\n        zIndex = 10\r\n        scale = 1 + perDelta\r\n      } else {\r\n        blur = Math.min(perDelta * 20, 20)\r\n      }\r\n      this.$refs.filter.style['backdrop'] = `blur(${blur}px)`\r\n      if (newY < scrollHeight) {\r\n        zIndex = 10\r\n        this.$refs.bgImage.style.paddingTop = 0\r\n        this.$refs.bgImage.style.height = '40px'\r\n        this.$refs.playBtn.style.display = 'none'\r\n      } else {\r\n        this.$refs.bgImage.style.paddingTop = '70%'\r\n        this.$refs.bgImage.style.height = '0'\r\n        this.$refs.playBtn.style.display = ''\r\n      }\r\n      this.$refs.bgImage.style.zIndex = zIndex\r\n      this.$refs.bgImage.style['transform'] = `scale(${scale})`\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n<style lang=\"stylus\">\r\n@import '~common/stylus/variable';\r\n@import '~common/stylus/mixin';\r\n\r\n.music-list {\r\n  position: fixed;\r\n  z-index: 100;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background: $color-background;\r\n\r\n  .back {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 6px;\r\n    z-index: 50;\r\n\r\n    .icon-back {\r\n      display: block;\r\n      padding: 10px;\r\n      font-size: $font-size-large-x;\r\n      color: $color-theme;\r\n    }\r\n  }\r\n\r\n  .title {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 10%;\r\n    z-index: 40;\r\n    width: 80%;\r\n    no-wrap();\r\n    text-align: center;\r\n    line-height: 40px;\r\n    font-size: $font-size-large;\r\n    color: $color-text;\r\n  }\r\n\r\n  .bg-image {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 0;\r\n    padding-top: 70%;\r\n    transform-origin: top;\r\n    background-size: cover;\r\n\r\n    .play-wrapper {\r\n      position: absolute;\r\n      bottom: 20px;\r\n      z-index: 50;\r\n      width: 100%;\r\n\r\n      .play {\r\n        box-sizing: border-box;\r\n        width: 135px;\r\n        padding: 7px 0;\r\n        margin: 0 auto;\r\n        text-align: center;\r\n        border: 1px solid $color-theme;\r\n        color: $color-theme;\r\n        border-radius: 100px;\r\n        font-size: 0;\r\n\r\n        .icon-play {\r\n          display: inline-block;\r\n          vertical-align: middle;\r\n          margin-right: 6px;\r\n          font-size: $font-size-medium-x;\r\n        }\r\n\r\n        .text {\r\n          display: inline-block;\r\n          vertical-align: middle;\r\n          font-size: $font-size-small;\r\n        }\r\n      }\r\n    }\r\n\r\n    .filter {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      background: rgba(7, 17, 27, 0.4);\r\n    }\r\n  }\r\n\r\n  .bg-layer {\r\n    position: relative;\r\n    height: 100%;\r\n    background: $color-background;\r\n  }\r\n\r\n  .list {\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    background: $color-background;\r\n\r\n    .song-list-wrapper {\r\n      padding: 20px 30px;\r\n    }\r\n\r\n    .loading-container {\r\n      position: absolute;\r\n      width: 100%;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/music-list/music-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-list\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('h1',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.title)}}),_vm._v(\" \"),_c('div',{ref:\"bgImage\",staticClass:\"bg-image\",style:(_vm.bgStyle)},[_c('div',{staticClass:\"play-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.songs.length>0),expression:\"songs.length>0\"}],ref:\"playBtn\",staticClass:\"play\",on:{\"click\":_vm.setRandomPlay}},[_c('i',{staticClass:\"icon-play\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"随机播放全部\")])])]),_vm._v(\" \"),_c('div',{ref:\"filter\",staticClass:\"filter\"})]),_vm._v(\" \"),_c('div',{ref:\"layer\",staticClass:\"bg-layer\"}),_vm._v(\" \"),_c('scroll',{ref:\"list\",staticClass:\"list\",attrs:{\"data\":_vm.songs,\"probeType\":_vm.probeType,\"listenScroll\":_vm.listenScroll},on:{\"scroll\":_vm.scroll}},[_c('div',[_c('song-list',{attrs:{\"songs\":_vm.songs},on:{\"select\":_vm.select}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.songs.length),expression:\"!songs.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-3d82286d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/music-list/music-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d82286d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./music-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./music-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./music-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d82286d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./music-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/music-list/music-list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"slide\">\r\n    <music-list :title='title'\r\n                :bg-image='bgImage'\r\n                :songs='song'></music-list>\r\n  </transition>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport { getSingerDetail } from 'api/singer'\r\nimport { getMusicVkey } from 'api/song'\r\nimport { createSong } from 'common/js/song'\r\nimport { ERR_OK } from 'api/config'\r\nimport MusicList from 'components/music-list/music-list'\r\nexport default {\r\n  data () {\r\n    return {\r\n      song: [],\r\n      count: 0\r\n    }\r\n  },\r\n  created () {\r\n    this._getSingerDetail()\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'singer'\r\n    ]),\r\n    title () {\r\n      return this.singer.name\r\n    },\r\n    bgImage () {\r\n      return this.singer.avatar\r\n    }\r\n  },\r\n  methods: {\r\n    _getSingerDetail () {\r\n      if (!this.singer.id) {\r\n        this.$router.push('/singer')\r\n        return\r\n      }\r\n      getSingerDetail(this.singer.id).then((res) => {\r\n        if (ERR_OK === res.code) {\r\n          this.song = this.handleData(res.data.list)\r\n        }\r\n      })\r\n    },\r\n    handleData (song) {\r\n      let ret = []\r\n      // TODO ：优化歌曲播放地址获取 放在点击播放时获取\r\n      this.len = song.length\r\n      let musicDataList = []\r\n      let promises = song.map((item) => {\r\n        let { musicData } = item\r\n        musicDataList.push(musicData)\r\n        return getMusicVkey(musicData.songmid)\r\n      })\r\n      Promise.all(promises).then(function (posts) {\r\n        console.log(posts)\r\n        posts.forEach((item, inx) => {\r\n          let vkey = item.req_0.data.midurlinfo[0].purl\r\n          ret.push(createSong(musicDataList[inx], vkey))\r\n        })\r\n      }).catch(function (reason) {\r\n        // ...\r\n      })\r\n      /* song.forEach(item => {\r\n        let { musicData } = item\r\n        if (musicData.songmid && musicData.albummid) {\r\n          ret.push(createSong(musicData, ''))\r\n          getMusicVkey(musicData.songmid).then((res) => {\r\n            if (ERR_OK === res.code) {\r\n              let vkey = res.req_0.data.midurlinfo[0].purl\r\n              ret.push(createSong(musicData, vkey))\r\n            }\r\n            _this.count++\r\n            if (_this.count === _this.len) {\r\n              console.log(ret)\r\n              return ret\r\n            }\r\n          }).catch(e => {\r\n            _this.count++\r\n            console.log(e)\r\n            if (_this.count === _this.len) {\r\n              console.log(ret)\r\n              return ret\r\n            }\r\n          })\r\n        }\r\n      }) */\r\n      return ret\r\n    }\r\n  },\r\n  components: {\r\n    MusicList\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\">\r\n@import '~common/stylus/variable';\r\n\r\n.detail-wrap {\r\n  position: fixed;\r\n  z-index: 100;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: $color-background;\r\n}\r\n\r\n.slide-enter-active, .slide-leave-active {\r\n  transition: all 0.3s;\r\n}\r\n\r\n.slide-enter, .slide-leave-to {\r\n  transform: translate3d(100%, 0, 0);\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/singer-detail/singer-detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('music-list',{attrs:{\"title\":_vm.title,\"bg-image\":_vm.bgImage,\"songs\":_vm.song}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-37a88f17\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/singer-detail/singer-detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37a88f17\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./singer-detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./singer-detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./singer-detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37a88f17\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./singer-detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer-detail/singer-detail.vue\n// module id = null\n// module chunks = ","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/createClass.js\n// module id = xSur\n// module chunks = 1 2"],"sourceRoot":""}